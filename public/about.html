<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>About Us â€“ VEPA AutoCare</title>
  <style>
:root {
  /* Palette from Style 1 */
  --color-bg-light: #F8F9FA;
  --color-bg-dark: #343A40;
  --color-primary: #6C757D;
  --color-text: #212529;
  --color-text-light: #495057;
  --color-accent: #CED4DA;
  --radius: 12px;
  --gap: 1rem;
}

/* Reset & Global */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'Poppins', sans-serif;
  background: var(--color-bg-light);
  color: var(--color-text);
  display: flex; flex-direction: column;
  min-height: 100vh;
}
a { text-decoration: none; color: inherit; }

/* Header */
header {
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: wrap;
  padding: 1rem 2rem;
  background: var(--color-bg-light);
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  position: sticky; top:0; z-index:10;
}
.logo { font-size: 1.5rem; font-weight: bold; color: var(--color-text); }
.welcome {
  margin-left: 1rem; font-size: 0.9rem;
  color: var(--color-text-light); display: none;
}
nav ul {
  list-style: none; display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap;
}
nav ul li a,
.contact-toggle,
.login-toggle,
#signout-nav button {
  font-weight: 500; text-transform: uppercase; font-size: 0.9rem;
  color: var(--color-text-light); cursor: pointer; white-space: nowrap;
  background: none; border: none; font: inherit;
}
nav ul li a:hover,
.contact-toggle:hover,
.login-toggle:hover,
#signout-nav button:hover { color: var(--color-primary); }
.menu-toggle {
  display: none;
  flex-direction: column;
  gap: 5px;
  cursor: pointer;
}
.menu-toggle span {
  width: 25px;
  height: 3px;
  background: var(--color-text);
  border-radius: 3px;
}

@media (max-width: 768px) {
  /* Center welcome message */
  .welcome {
    display: block;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.9rem;
    color: var(--color-text-light);
    white-space: nowrap;
  }

  nav {
    display: none;
    position: absolute;
    top: 100%;
    right: 0;
    background: var(--color-bg-light);
    width: 220px;
    border-radius: 0 0 var(--radius) var(--radius);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    padding: 1rem;
  }

  nav ul {
    flex-direction: column;
    gap: 1rem;
  }

  nav.show {
    display: block;
  }

  .menu-toggle {
    display: flex;
  }
}

.login-toggle {
  text-transform: uppercase;
  cursor: pointer;
  font-weight: 500;
}

/* Main Section */
main { flex: 1; padding: 4rem 2rem; max-width: 1000px; margin: auto; }
section { margin-bottom: 4rem; }

/* About Hero */
.about-hero { text-align: center; margin-bottom: 3rem; }
.about-hero h1 {
  font-family: 'Poppins', sans-serif;
  font-size: 2.5rem; margin-bottom: 1rem;
  color: var(--color-primary);
}
.about-hero h2 { font-size: 1.1rem; color: var(--color-text-light); }

/* About Grid */
.about-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(300px,1fr));
  gap: 2rem;
}
.about-card {
  background: var(--color-bg-card, #DEE2E6);
  border-radius: var(--radius);
  box-shadow: 0 8px 20px rgba(52,58,64,0.1);
  padding: 2rem;
  text-align: center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.about-card:hover { transform: translateY(-5px); box-shadow: 0 12px 25px rgba(52,58,64,0.2); }
.about-card img {
  width: 100%; height: 50%; object-fit: cover;
  border-radius: var(--radius); margin-bottom: 1rem;
}
.about-card h3 {
  margin-bottom: 0.5rem; color: var(--color-primary);
  font-family: 'Poppins', sans-serif;
  font-size: xx-large;
}
.about-card p { font-size: 0.95rem; color: var(--color-text); font-family: 'Poppins', sans-serif; }

/* Footer */
footer {
  background: var(--color-bg-dark);
  color: var(--color-bg-light);
  text-align: center;
  padding: 2rem 1rem;
  margin-top: auto;
  font-family: 'Poppins', sans-serif;
  font-size: 0.9rem;
}
footer a { color: var(--color-bg-light); }

/* Responsive */
@media (max-width:768px) {
  .about-grid { grid-template-columns: 1fr; }
}
</style>

</head>
<body>
  <header>
  <div class="logo">VEPA</div>

  <div id="welcome-message" class="welcome"></div>

  <div class="menu-toggle" id="menu-toggle">
    <span></span><span></span><span></span>
  </div>

  <nav id="nav-links">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="inventory">Inventory</a></li>
      <li><a href="services">Services</a></li>
      <li><a href="about">About VEPA</a></li>
      <li id="admin-link" style="display:none"><a href="admin">Admin</a></li>
      <li><a href="contact">Contact</a></li>
      <li class="login-toggle"><a href="login">Login/Signup</a></li>
      <li id="signout-nav" style="display:none;"><button id="signout-btn">Sign Out</button></li>
    </ul>
  </nav>
</header>

  <main>
    <section class="about-hero">
      <h1>About VEPA Auto Care</h1>
      <h2>Automotive services done right</h2>
    </section>

    <section class="about-grid">
      <div class="about-card">
        <img src="vepa logo.png" alt="Our Story">
        <h3>Our Story</h3>
        <p>
          Bought and rebranded in 2022, VEPA is a family owned automotive shop and has been serving the Albany community ever since.
        </p>
      </div>
      <div class="about-card">
        <img src="vepa logo.png" alt="Our Mission">
        <h3>Our Mission</h3>
        <p>VEPA was founded on the belief that automotive services should be fair, honest and transparent.
          All of our staff are committed to upholding these values every day. Whether you're here for a simple oil change or a major repair, you can trust VEPA to treat you right.
        </p>
      </div>
      <!-- <div class="about-card">
        <img src="https://placehold.co/600x400?text=Our+Team" alt="Our Team">
        <h3>Our Team</h3>
        <p>Behind VEPA is a family passionate about automotives. </p>
      </div> -->
      <!-- <div class="about-card">
        <img src="https://placehold.co/600x400?text=Our+Team" alt="Our Team">
        <h3>What is VEPA?</h3>
        <p>Behind VEPA is a passionate team of automotive experts and customer 
        advocates who strive to deliver the best experience possible.</p>
      </div> -->
    </section>
  </main>

  <footer>
    <p>1904 Western Ave, Albany, NY 12203</p>
    <p>(518) 456-5682 | <a href="mailto:vepaautoshop1904@gmail.com">vepaautoshop1904@gmail.com</a></p>
    <p>&copy; 2025 VEPA AutoCare. All Rights Reserved.</p>
  </footer>
  <script type="module">
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-firestore.js";

 import {
      getAuth,
      onAuthStateChanged,
      signOut
    } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-auth.js";

    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
     const firebaseConfig = {
      apiKey: "AIzaSyBcKnjZm5LYqj5jx5VEqx9ywspgZyxNfsA",
      authDomain: "vepa-24b46.firebaseapp.com",
      projectId: "vepa-24b46",
      storageBucket: "vepa-24b46.appspot.app",
      messagingSenderId: "170936495301",
      appId: "1:170936495301:web:6f15b8fa08deeb01d5d4ac",
      measurementId: "G-F8NFZ6SRKR"
    };
    const app  = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    onAuthStateChanged(auth, async (user) => {
  const loginToggle = document.querySelector('.login-toggle');
  const signoutNav = document.getElementById('signout-nav');
  const welcomeEl = document.getElementById('welcome-message');
  const adminLink = document.getElementById('admin-link');

  // Hamburger menu toggle
const menuToggle = document.getElementById("menu-toggle");
const navLinks = document.getElementById("nav-links");

menuToggle.addEventListener("click", () => {
  navLinks.classList.toggle("show");
});


  if (user) {
    loginToggle.style.display = 'none';
    signoutNav.style.display = 'inline-flex';
    welcomeEl.textContent = `Welcome, ${user.email}`;
    welcomeEl.style.display = 'block';

    try {
      // Use UID, not email
      const snap = await getDoc(doc(db, "users", user.uid));
      if (snap.exists() && snap.data().isAdmin) {
        sessionStorage.setItem('admin-auth', 'true');
        adminLink.style.display = 'inline-flex';
      } else {
        sessionStorage.removeItem('admin-auth');
        adminLink.style.display = 'none';
      }
    } catch (err) {
      console.error("Failed to fetch user document:", err);
      adminLink.style.display = 'none';
    }

  } else {
    loginToggle.style.display = 'inline-flex';
    signoutNav.style.display = 'none';
    welcomeEl.style.display = 'none';
    adminLink.style.display = 'none';
    sessionStorage.removeItem('admin-auth');
  }
});
  </script>
</body>
</html>